<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.qianwang.mapper.user.HeavyCUserStatMapper" >
  <resultMap id="BaseResultMap" type="com.qianwang.dao.domain.user.HeavyCUserStat" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 24 13:32:12 CST 2014.
    -->
    <id column="c_user_id" property="cUserId" jdbcType="INTEGER" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    <result column="presenter_id" property="presenterId" jdbcType="INTEGER" />
    <result column="register_reward" property="registerReward" jdbcType="DECIMAL" />
    <result column="c_reward" property="cReward" jdbcType="DECIMAL" />
    <result column="p_reward" property="pReward" jdbcType="DECIMAL" />
    <result column="dual" property="dual" jdbcType="DECIMAL" />
    <result column="d1" property="d1" jdbcType="DECIMAL" />
    <result column="d2" property="d2" jdbcType="DECIMAL" />
    <result column="d3" property="d3" jdbcType="DECIMAL" />
    <result column="d4" property="d4" jdbcType="DECIMAL" />
    <result column="d5" property="d5" jdbcType="DECIMAL" />
    <result column="d6" property="d6" jdbcType="DECIMAL" />
    <result column="d7" property="d7" jdbcType="DECIMAL" />
    <result column="d8" property="d8" jdbcType="DECIMAL" />
    <result column="d9" property="d9" jdbcType="DECIMAL" />
    <result column="d10" property="d10" jdbcType="DECIMAL" />
    <result column="d11" property="d11" jdbcType="DECIMAL" />
    <result column="d12" property="d12" jdbcType="DECIMAL" />
    <result column="d13" property="d13" jdbcType="DECIMAL" />
    <result column="d14" property="d14" jdbcType="DECIMAL" />
    <result column="d15" property="d15" jdbcType="DECIMAL" />
    <result column="d16" property="d16" jdbcType="DECIMAL" />
    <result column="d17" property="d17" jdbcType="DECIMAL" />
    <result column="d18" property="d18" jdbcType="DECIMAL" />
    <result column="d19" property="d19" jdbcType="DECIMAL" />
    <result column="d20" property="d20" jdbcType="DECIMAL" />
    <result column="d21" property="d21" jdbcType="DECIMAL" />
    <result column="d22" property="d22" jdbcType="DECIMAL" />
    <result column="d23" property="d23" jdbcType="DECIMAL" />
    <result column="d24" property="d24" jdbcType="DECIMAL" />
    <result column="d25" property="d25" jdbcType="DECIMAL" />
    <result column="d26" property="d26" jdbcType="DECIMAL" />
    <result column="d27" property="d27" jdbcType="DECIMAL" />
    <result column="d28" property="d28" jdbcType="DECIMAL" />
    <result column="d29" property="d29" jdbcType="DECIMAL" />
    <result column="d30" property="d30" jdbcType="DECIMAL" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 24 13:32:12 CST 2014.
    -->
    c_user_id, create_time, presenter_id, register_reward, c_reward, p_reward, dual, 
    d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16, d17, d18, 
    d19, d20, d21, d22, d23, d24, d25, d26, d27, d28, d29, d30
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 24 13:32:12 CST 2014.
    -->
    select 
    <include refid="Base_Column_List" />
    from heavy_c_user_stat
    where c_user_id = #{cUserId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 24 13:32:12 CST 2014.
    -->
    delete from heavy_c_user_stat
    where c_user_id = #{cUserId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.qianwang.dao.domain.user.HeavyCUserStat" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 24 13:32:12 CST 2014.
    -->
    insert into heavy_c_user_stat (c_user_id, create_time, presenter_id, 
      register_reward, c_reward, p_reward, 
      dual, d1, d2, d3, 
      d4, d5, d6, d7, 
      d8, d9, d10, d11, 
      d12, d13, d14, d15, 
      d16, d17, d18, d19, 
      d20, d21, d22, d23, 
      d24, d25, d26, d27, 
      d28, d29, d30)
    values (#{cUserId,jdbcType=INTEGER}, #{createTime,jdbcType=TIMESTAMP}, #{presenterId,jdbcType=INTEGER}, 
      #{registerReward,jdbcType=DECIMAL}, #{cReward,jdbcType=DECIMAL}, #{pReward,jdbcType=DECIMAL}, 
      #{dual,jdbcType=DECIMAL}, #{d1,jdbcType=DECIMAL}, #{d2,jdbcType=DECIMAL}, #{d3,jdbcType=DECIMAL}, 
      #{d4,jdbcType=DECIMAL}, #{d5,jdbcType=DECIMAL}, #{d6,jdbcType=DECIMAL}, #{d7,jdbcType=DECIMAL}, 
      #{d8,jdbcType=DECIMAL}, #{d9,jdbcType=DECIMAL}, #{d10,jdbcType=DECIMAL}, #{d11,jdbcType=DECIMAL}, 
      #{d12,jdbcType=DECIMAL}, #{d13,jdbcType=DECIMAL}, #{d14,jdbcType=DECIMAL}, #{d15,jdbcType=DECIMAL}, 
      #{d16,jdbcType=DECIMAL}, #{d17,jdbcType=DECIMAL}, #{d18,jdbcType=DECIMAL}, #{d19,jdbcType=DECIMAL}, 
      #{d20,jdbcType=DECIMAL}, #{d21,jdbcType=DECIMAL}, #{d22,jdbcType=DECIMAL}, #{d23,jdbcType=DECIMAL}, 
      #{d24,jdbcType=DECIMAL}, #{d25,jdbcType=DECIMAL}, #{d26,jdbcType=DECIMAL}, #{d27,jdbcType=DECIMAL}, 
      #{d28,jdbcType=DECIMAL}, #{d29,jdbcType=DECIMAL}, #{d30,jdbcType=DECIMAL})
  </insert>
  <insert id="insertSelective" parameterType="com.qianwang.dao.domain.user.HeavyCUserStat" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 24 13:32:12 CST 2014.
    -->
    insert into heavy_c_user_stat
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="cUserId != null" >
        c_user_id,
      </if>
      <if test="createTime != null" >
        create_time,
      </if>
      <if test="presenterId != null" >
        presenter_id,
      </if>
      <if test="registerReward != null" >
        register_reward,
      </if>
      <if test="cReward != null" >
        c_reward,
      </if>
      <if test="pReward != null" >
        p_reward,
      </if>
      <if test="dual != null" >
        dual,
      </if>
      <if test="d1 != null" >
        d1,
      </if>
      <if test="d2 != null" >
        d2,
      </if>
      <if test="d3 != null" >
        d3,
      </if>
      <if test="d4 != null" >
        d4,
      </if>
      <if test="d5 != null" >
        d5,
      </if>
      <if test="d6 != null" >
        d6,
      </if>
      <if test="d7 != null" >
        d7,
      </if>
      <if test="d8 != null" >
        d8,
      </if>
      <if test="d9 != null" >
        d9,
      </if>
      <if test="d10 != null" >
        d10,
      </if>
      <if test="d11 != null" >
        d11,
      </if>
      <if test="d12 != null" >
        d12,
      </if>
      <if test="d13 != null" >
        d13,
      </if>
      <if test="d14 != null" >
        d14,
      </if>
      <if test="d15 != null" >
        d15,
      </if>
      <if test="d16 != null" >
        d16,
      </if>
      <if test="d17 != null" >
        d17,
      </if>
      <if test="d18 != null" >
        d18,
      </if>
      <if test="d19 != null" >
        d19,
      </if>
      <if test="d20 != null" >
        d20,
      </if>
      <if test="d21 != null" >
        d21,
      </if>
      <if test="d22 != null" >
        d22,
      </if>
      <if test="d23 != null" >
        d23,
      </if>
      <if test="d24 != null" >
        d24,
      </if>
      <if test="d25 != null" >
        d25,
      </if>
      <if test="d26 != null" >
        d26,
      </if>
      <if test="d27 != null" >
        d27,
      </if>
      <if test="d28 != null" >
        d28,
      </if>
      <if test="d29 != null" >
        d29,
      </if>
      <if test="d30 != null" >
        d30,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="cUserId != null" >
        #{cUserId,jdbcType=INTEGER},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="presenterId != null" >
        #{presenterId,jdbcType=INTEGER},
      </if>
      <if test="registerReward != null" >
        #{registerReward,jdbcType=DECIMAL},
      </if>
      <if test="cReward != null" >
        #{cReward,jdbcType=DECIMAL},
      </if>
      <if test="pReward != null" >
        #{pReward,jdbcType=DECIMAL},
      </if>
      <if test="dual != null" >
        #{dual,jdbcType=DECIMAL},
      </if>
      <if test="d1 != null" >
        #{d1,jdbcType=DECIMAL},
      </if>
      <if test="d2 != null" >
        #{d2,jdbcType=DECIMAL},
      </if>
      <if test="d3 != null" >
        #{d3,jdbcType=DECIMAL},
      </if>
      <if test="d4 != null" >
        #{d4,jdbcType=DECIMAL},
      </if>
      <if test="d5 != null" >
        #{d5,jdbcType=DECIMAL},
      </if>
      <if test="d6 != null" >
        #{d6,jdbcType=DECIMAL},
      </if>
      <if test="d7 != null" >
        #{d7,jdbcType=DECIMAL},
      </if>
      <if test="d8 != null" >
        #{d8,jdbcType=DECIMAL},
      </if>
      <if test="d9 != null" >
        #{d9,jdbcType=DECIMAL},
      </if>
      <if test="d10 != null" >
        #{d10,jdbcType=DECIMAL},
      </if>
      <if test="d11 != null" >
        #{d11,jdbcType=DECIMAL},
      </if>
      <if test="d12 != null" >
        #{d12,jdbcType=DECIMAL},
      </if>
      <if test="d13 != null" >
        #{d13,jdbcType=DECIMAL},
      </if>
      <if test="d14 != null" >
        #{d14,jdbcType=DECIMAL},
      </if>
      <if test="d15 != null" >
        #{d15,jdbcType=DECIMAL},
      </if>
      <if test="d16 != null" >
        #{d16,jdbcType=DECIMAL},
      </if>
      <if test="d17 != null" >
        #{d17,jdbcType=DECIMAL},
      </if>
      <if test="d18 != null" >
        #{d18,jdbcType=DECIMAL},
      </if>
      <if test="d19 != null" >
        #{d19,jdbcType=DECIMAL},
      </if>
      <if test="d20 != null" >
        #{d20,jdbcType=DECIMAL},
      </if>
      <if test="d21 != null" >
        #{d21,jdbcType=DECIMAL},
      </if>
      <if test="d22 != null" >
        #{d22,jdbcType=DECIMAL},
      </if>
      <if test="d23 != null" >
        #{d23,jdbcType=DECIMAL},
      </if>
      <if test="d24 != null" >
        #{d24,jdbcType=DECIMAL},
      </if>
      <if test="d25 != null" >
        #{d25,jdbcType=DECIMAL},
      </if>
      <if test="d26 != null" >
        #{d26,jdbcType=DECIMAL},
      </if>
      <if test="d27 != null" >
        #{d27,jdbcType=DECIMAL},
      </if>
      <if test="d28 != null" >
        #{d28,jdbcType=DECIMAL},
      </if>
      <if test="d29 != null" >
        #{d29,jdbcType=DECIMAL},
      </if>
      <if test="d30 != null" >
        #{d30,jdbcType=DECIMAL},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.qianwang.dao.domain.user.HeavyCUserStat" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 24 13:32:12 CST 2014.
    -->
    update heavy_c_user_stat
    <set >
      <if test="createTime != null" >
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="presenterId != null" >
        presenter_id = #{presenterId,jdbcType=INTEGER},
      </if>
      <if test="registerReward != null" >
        register_reward = #{registerReward,jdbcType=DECIMAL},
      </if>
      <if test="cReward != null" >
        c_reward = #{cReward,jdbcType=DECIMAL},
      </if>
      <if test="pReward != null" >
        p_reward = #{pReward,jdbcType=DECIMAL},
      </if>
      <if test="dual != null" >
        dual = #{dual,jdbcType=DECIMAL},
      </if>
      <if test="d1 != null" >
        d1 = #{d1,jdbcType=DECIMAL},
      </if>
      <if test="d2 != null" >
        d2 = #{d2,jdbcType=DECIMAL},
      </if>
      <if test="d3 != null" >
        d3 = #{d3,jdbcType=DECIMAL},
      </if>
      <if test="d4 != null" >
        d4 = #{d4,jdbcType=DECIMAL},
      </if>
      <if test="d5 != null" >
        d5 = #{d5,jdbcType=DECIMAL},
      </if>
      <if test="d6 != null" >
        d6 = #{d6,jdbcType=DECIMAL},
      </if>
      <if test="d7 != null" >
        d7 = #{d7,jdbcType=DECIMAL},
      </if>
      <if test="d8 != null" >
        d8 = #{d8,jdbcType=DECIMAL},
      </if>
      <if test="d9 != null" >
        d9 = #{d9,jdbcType=DECIMAL},
      </if>
      <if test="d10 != null" >
        d10 = #{d10,jdbcType=DECIMAL},
      </if>
      <if test="d11 != null" >
        d11 = #{d11,jdbcType=DECIMAL},
      </if>
      <if test="d12 != null" >
        d12 = #{d12,jdbcType=DECIMAL},
      </if>
      <if test="d13 != null" >
        d13 = #{d13,jdbcType=DECIMAL},
      </if>
      <if test="d14 != null" >
        d14 = #{d14,jdbcType=DECIMAL},
      </if>
      <if test="d15 != null" >
        d15 = #{d15,jdbcType=DECIMAL},
      </if>
      <if test="d16 != null" >
        d16 = #{d16,jdbcType=DECIMAL},
      </if>
      <if test="d17 != null" >
        d17 = #{d17,jdbcType=DECIMAL},
      </if>
      <if test="d18 != null" >
        d18 = #{d18,jdbcType=DECIMAL},
      </if>
      <if test="d19 != null" >
        d19 = #{d19,jdbcType=DECIMAL},
      </if>
      <if test="d20 != null" >
        d20 = #{d20,jdbcType=DECIMAL},
      </if>
      <if test="d21 != null" >
        d21 = #{d21,jdbcType=DECIMAL},
      </if>
      <if test="d22 != null" >
        d22 = #{d22,jdbcType=DECIMAL},
      </if>
      <if test="d23 != null" >
        d23 = #{d23,jdbcType=DECIMAL},
      </if>
      <if test="d24 != null" >
        d24 = #{d24,jdbcType=DECIMAL},
      </if>
      <if test="d25 != null" >
        d25 = #{d25,jdbcType=DECIMAL},
      </if>
      <if test="d26 != null" >
        d26 = #{d26,jdbcType=DECIMAL},
      </if>
      <if test="d27 != null" >
        d27 = #{d27,jdbcType=DECIMAL},
      </if>
      <if test="d28 != null" >
        d28 = #{d28,jdbcType=DECIMAL},
      </if>
      <if test="d29 != null" >
        d29 = #{d29,jdbcType=DECIMAL},
      </if>
      <if test="d30 != null" >
        d30 = #{d30,jdbcType=DECIMAL},
      </if>
    </set>
    where c_user_id = #{cUserId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.qianwang.dao.domain.user.HeavyCUserStat" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 24 13:32:12 CST 2014.
    -->
    update heavy_c_user_stat
    set create_time = #{createTime,jdbcType=TIMESTAMP},
      presenter_id = #{presenterId,jdbcType=INTEGER},
      register_reward = #{registerReward,jdbcType=DECIMAL},
      c_reward = #{cReward,jdbcType=DECIMAL},
      p_reward = #{pReward,jdbcType=DECIMAL},
      dual = #{dual,jdbcType=DECIMAL},
      d1 = #{d1,jdbcType=DECIMAL},
      d2 = #{d2,jdbcType=DECIMAL},
      d3 = #{d3,jdbcType=DECIMAL},
      d4 = #{d4,jdbcType=DECIMAL},
      d5 = #{d5,jdbcType=DECIMAL},
      d6 = #{d6,jdbcType=DECIMAL},
      d7 = #{d7,jdbcType=DECIMAL},
      d8 = #{d8,jdbcType=DECIMAL},
      d9 = #{d9,jdbcType=DECIMAL},
      d10 = #{d10,jdbcType=DECIMAL},
      d11 = #{d11,jdbcType=DECIMAL},
      d12 = #{d12,jdbcType=DECIMAL},
      d13 = #{d13,jdbcType=DECIMAL},
      d14 = #{d14,jdbcType=DECIMAL},
      d15 = #{d15,jdbcType=DECIMAL},
      d16 = #{d16,jdbcType=DECIMAL},
      d17 = #{d17,jdbcType=DECIMAL},
      d18 = #{d18,jdbcType=DECIMAL},
      d19 = #{d19,jdbcType=DECIMAL},
      d20 = #{d20,jdbcType=DECIMAL},
      d21 = #{d21,jdbcType=DECIMAL},
      d22 = #{d22,jdbcType=DECIMAL},
      d23 = #{d23,jdbcType=DECIMAL},
      d24 = #{d24,jdbcType=DECIMAL},
      d25 = #{d25,jdbcType=DECIMAL},
      d26 = #{d26,jdbcType=DECIMAL},
      d27 = #{d27,jdbcType=DECIMAL},
      d28 = #{d28,jdbcType=DECIMAL},
      d29 = #{d29,jdbcType=DECIMAL},
      d30 = #{d30,jdbcType=DECIMAL}
    where c_user_id = #{cUserId,jdbcType=INTEGER}
  </update>
  <!-- 根据推荐用户ID获取其推荐的所有用户 -->
  <select id="getCUserByPresentId" resultType="java.util.Map" parameterType="java.lang.Long">
  select 
    c_user_id cUserId,c_username cUserName, create_time createTime, presenter_id presenterId, 
    register_reward registerReward, c_reward cReward, p_reward pReward, 
    d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16, d17, d18, 
    d19, d20, d21, d22, d23, d24, d25, d26, d27, d28, d29, d30, 
    ifnull(d30/(register_reward+c_reward), 0) cRoi
    from heavy_c_user_stat
  where presenter_id = #{presenterId}
  </select>
    <select id="getCUser" resultType="java.util.Map" parameterType="java.lang.Long" >
    select 
    c_user_id cUserId,c_username cUserName, create_time createTime, presenter_id presenterId, 
    register_reward registerReward, c_reward cReward, p_reward pReward, 
    d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16, d17, d18, 
    d19, d20, d21, d22, d23, d24, d25, d26, d27, d28, d29, d30, 
    ifnull(d30/(register_reward+c_reward), 0) cRoi
    from heavy_c_user_stat
    where presenter_id = #{presenterId}
	<if test="sort != null and sort != ''" >
	order by ${sort}
	</if>
	<if test="sort == null or sort == ''" >
	order by c_user_id desc
	</if>
	limit ${start},${length}
  </select>
  
  <select id="getCUserCnt" resultType="java.lang.Integer" parameterType="java.lang.Long" >
    select count(c_user_id)
    from heavy_c_user_stat
    where presenter_id = #{presenterId}
  </select>
</mapper>