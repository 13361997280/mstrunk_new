webpackJsonp([4],{458:function(t,e,n){function a(t){n(706)}var s=n(0)(n(651),n(729),a,"data-v-f9cf83fc",null);t.exports=s.exports},486:function(t,e,n){"use strict";function a(t){return(0,c.fetch)({url:"/bus/task/list.do?"+t,method:"get"})}function s(){return(0,c.fetch)({url:"/sysconfig/getAccounts.do",method:"get"})}function r(t,e){return(0,c.fetch)({url:"/bus/task/enable.do",method:"post",data:{id:t,status:e}})}function o(t){return(0,c.fetch)({url:"/bus/task/save.do",method:"post",data:t})}function i(){return(0,c.fetch)({url:"/bus/taskset/getConfTaskSet.do",method:"get"})}function l(t){return(0,c.fetch)({url:"/bus/taskset/save.do",method:"post",data:t})}function u(t){return(0,c.fetch)({url:"/bus/taskset/getHisTaskSet.do?"+t,method:"get"})}Object.defineProperty(e,"__esModule",{value:!0}),e.fetchList=a,e.fetchUserList=s,e.setTaskStatus=r,e.addTask=o,e.getSetting=i,e.updateSetting=l,e.fetchHistory=u;var c=n(10)},651:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(486);e.default={name:"taskSettings",data:function(){return{list:null,total:null,listLoading:!0,listQuery:{pageNo:1,pageSize:10},settingList:null}},created:function(){this.fetchHistory(),this.getSetting()},filters:{scoreTextFilter:function(t){return"-1"==t?"无上限":t},statusTextFilter:function(t){return["正常","已下架"][t]}},methods:{fetchHistory:function(){var t=this;this.listLoading=!0;var e=[];for(var n in this.listQuery)e.push(n+"="+this.listQuery[n]);(0,a.fetchHistory)(e.join("&")).then(function(e){e.success?(t.list=e.data,t.total=e.recordsTotal,t.listLoading=!1):t.$notify({title:"失败",message:e.message,type:"error",duration:2e3})})},getSetting:function(){var t=this;(0,a.getSetting)().then(function(e){e.success?t.settingList=e.data:t.$notify({title:"失败",message:e.message,type:"error",duration:2e3})})},updateSetting:function(){this.$router.push("/task/taskSettingsModify")},handleSizeChange:function(t){this.listQuery.pageSize=t,this.fetchHistory()},handleCurrentChange:function(t){this.listQuery.pageNo=t,this.fetchHistory()}}}},671:function(t,e,n){e=t.exports=n(440)(!0),e.push([t.i,".task-settings-container[data-v-f9cf83fc]{padding:15px;position:relative;width:100%;height:80%}.btn-group[data-v-f9cf83fc]{margin:10px 0}","",{version:3,sources:["E:/eagle/Credit-BA-Management/src/views/task/taskSettings.vue"],names:[],mappings:"AACA,0CACI,aAAa,AACb,kBAAmB,AACnB,WAAY,AACZ,UAAY,CACf,AACD,4BACI,aAAe,CAClB",file:"taskSettings.vue",sourcesContent:["\n.task-settings-container[data-v-f9cf83fc]{\n    padding:15px;\n    position: relative;\n    width: 100%;\n    height: 80%;\n}\n.btn-group[data-v-f9cf83fc] {\n    margin: 10px 0;\n}\n"],sourceRoot:""}])},706:function(t,e,n){var a=n(671);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(441)("6122d7d3",a,!0)},729:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task-settings-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.settingList,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"单日总分上限",prop:"onedayScore"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("scoreTextFilter")(e.row.onedayScore)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"任务总分上限",prop:"totalScore"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("scoreTextFilter")(e.row.totalScore)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"创建时间",sortable:"",prop:"createTime",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.createTime))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"修改时间",prop:"updateTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.updateTime))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作账号",prop:"operator"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.operator))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"状态",prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",[t._v(t._s(t._f("statusTextFilter")(e.row.status)))])]}}])})],1),t._v(" "),n("div",{staticClass:"btn-group"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateSetting()}}},[t._v("修改")])],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,"default-sort":{prop:"updateTime",order:"aescending"},border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"单日总分上限",sortable:"",prop:"onedayScore"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.onedayScore))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"任务总分上限",sortable:"",prop:"totalScore"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.totalScore))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"创建时间",sortable:"",prop:"createTime",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.createTime))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"修改时间",sortable:"",prop:"updateTime",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.updateTime))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作账号",prop:"operator"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.operator))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"状态",sortable:"",prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",[t._v(t._s(t._f("statusTextFilter")(e.row.status)))])]}}])})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[n("el-pagination",{attrs:{"current-page":t.listQuery.pageNo,"page-sizes":[10,20,30,50],"page-size":t.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=4.32c6437d37b49efe5670.js.map